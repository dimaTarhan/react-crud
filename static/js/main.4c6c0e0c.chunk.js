(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(40)},30:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=(a(30),a(8)),o=a.n(i),s=a(13),u=a(6),m=a(7),p=a(10),d=a(9),E=a(11),f=(a(33),a(43)),h=a(20),b=a(44),g=a(45),v=(a(34),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={isVisible:!0},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header"},r.a.createElement("span",null,"Limit"),r.a.createElement(h.a,{lg:"2"},r.a.createElement(b.a.Control,{as:"select",onChange:function(t){return e.props.onLimitChange(t.target.value)},defaultValue:this.props.limit},r.a.createElement("option",null,"5"),r.a.createElement("option",null,"10"),r.a.createElement("option",null,"15"),r.a.createElement("option",null,"20"),r.a.createElement("option",null,"30"))),r.a.createElement("span",null,"players on page"),r.a.createElement("div",{className:"header__buttons"},r.a.createElement(g.a,{className:"buttons_first",variant:"warning",onClick:function(){e.props.updatePage()}},"Update"),r.a.createElement(g.a,{variant:"warning",onClick:this.props.openModal},"Add Player")),r.a.createElement("span",null,"Search:"),r.a.createElement(h.a,{lg:"3"},r.a.createElement(b.a.Control,{type:"text"})))}}]),t}(r.a.Component)),y=a(41),j=(a(35),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).toggleMode=function(){a.setState({isEditMode:!a.state.isEditMode})},a.getPlayerAge=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear();return t.setFullYear(a.getFullYear())<a?n-1:n},a.state={isEditMode:!1},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.foto,a=e.number,n=e.name,l=e.surname,c=e.birthDate,i=e.position,o=this.state.isEditMode;return r.a.createElement("tr",null,r.a.createElement("td",{className:"table_foto"},r.a.createElement("img",{src:t,alt:n})),r.a.createElement("td",{className:"table_number"},o?r.a.createElement(b.a.Control,{type:"number",defaultValue:a,min:"1",max:"99"}):a),r.a.createElement("td",{className:"table_name"},n),r.a.createElement("td",{className:"table_surname"},l),r.a.createElement("td",{className:"table_age"},this.getPlayerAge(c)),r.a.createElement("td",{className:"table_position"},o?r.a.createElement(b.a.Control,{as:"select",defaultValue:i},r.a.createElement("option",null,"Keeper"),r.a.createElement("option",null,"Centre Back"),r.a.createElement("option",null,"Left-Back"),r.a.createElement("option",null,"Right-Back"),r.a.createElement("option",null,"Defensive Midfield"),r.a.createElement("option",null,"Central Midfield"),r.a.createElement("option",null,"Left Wing"),r.a.createElement("option",null,"Right Wing"),r.a.createElement("option",null,"Centre Forward")):i),r.a.createElement("td",{className:"buttons_container"},o?r.a.createElement(g.a,{variant:"primary",onClick:this.toggleMode},"Save"):r.a.createElement("div",null,r.a.createElement(g.a,{className:"buttons_first",variant:"secondary",onClick:this.toggleMode},"Edit"),r.a.createElement(g.a,{variant:"danger"},"Delete"))))}}]),t}(r.a.Component)),C=(a(36),a(37),a(2)),w=function(e){var t=e.order,a=e.title,n=C("table-header-cell__arrow",{"table-header-cell__arrow_active":"asc"===t}),l=C("table-header-cell__arrow",{"table-header-cell__arrow_active":"desc"===t});return r.a.createElement("th",null,r.a.createElement("div",{className:"table-header-cell"},r.a.createElement("span",{className:"table-header-cell__title"},a),r.a.createElement("div",{className:"table-header-cell__arrows"},r.a.createElement("div",{className:n},"\u25b2"),r.a.createElement("div",{className:l},"\u25bc"))))},k=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Foto"),r.a.createElement(w,{title:"Number",order:"desc"}),r.a.createElement(w,{title:"First Name",order:"desc"}),r.a.createElement(w,{title:"Last Name",order:"desc"}),r.a.createElement(w,{title:"Age",order:"desc"}),r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,this.props.players.map(function(e,t){return r.a.createElement(j,Object.assign({},e,{mode:t%2?"edit":"view",key:e.number}))})))}}]),t}(r.a.Component),O=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.prevPage,a=e.nextPage,n=e.curentPage;return r.a.createElement("div",{className:"nav-btn"},r.a.createElement(g.a,{variant:"secondary",className:"buttons_first",onClick:function(){return t(n-1)}},"\xab Prev"),r.a.createElement(g.a,{variant:"secondary",onClick:function(){return a(n+1)}},"Next \xbb"))}}]),t}(r.a.Component),P=(a(38),function(){return r.a.createElement("div",{className:"mainTitle"},r.a.createElement("img",{src:"http://localhost:1010/images/FC_Barcelona.png",alt:"FC Barcelona"}),r.a.createElement("span",null,"FC Barcelona"))}),N=a(23),_=(a(39),a(42)),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onSaveClick=function(){var e=new FormData,t=a.form.current.elements,n=a.image.current.files[0];Object(N.a)(t).forEach(function(t){console.log(t.tagName),"BUTTON"!==t.tagName&&(e[t.name]=t.value)}),e.foto=n.name,e.imageFile=n,a.props.addPlayer(e),a.props.closeModal()},a.state={isVisible:!1},a.form=r.a.createRef(),a.image=r.a.createRef(),a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.isVisible?r.a.createElement("div",{className:"newPlayerContainer"},r.a.createElement("div",{className:"newPlayerBackground"}),r.a.createElement("div",{className:"newPlayer"},r.a.createElement("div",{className:"newPlayer__header"},r.a.createElement("span",null,"Welcome to FC Barcelona!")),r.a.createElement(b.a,{ref:this.form,encType:"multipart/form-data"},r.a.createElement(_.a,null,r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"First Name"),r.a.createElement(h.a,null,r.a.createElement(b.a.Control,{type:"text",placeholder:"First Name",name:"name"}))),r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"Last Name"),r.a.createElement(h.a,null,r.a.createElement(b.a.Control,{type:"text",placeholder:"Last Name",name:"surname"})))),r.a.createElement(_.a,null,r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"Birth Date"),r.a.createElement(h.a,null,r.a.createElement(b.a.Control,{type:"date",name:"birthDate"}))),r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"Position"),r.a.createElement(h.a,null,r.a.createElement(b.a.Control,{as:"select",name:"position"},r.a.createElement("option",null,"Keeper"),r.a.createElement("option",null,"Centre Back"),r.a.createElement("option",null,"Left-Back"),r.a.createElement("option",null,"Right-Back"),r.a.createElement("option",null,"Defensive Midfield"),r.a.createElement("option",null,"Central Midfield"),r.a.createElement("option",null,"Left Wing"),r.a.createElement("option",null,"Right Wing"),r.a.createElement("option",null,"Centre Forward")))),r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"Preferred number"),r.a.createElement(h.a,{md:{span:6,offset:3}},r.a.createElement(b.a.Control,{type:"number",name:"number",min:"1",max:"99"})))),r.a.createElement(_.a,null,r.a.createElement(h.a,null,r.a.createElement(b.a.Label,null,"Add Foto"),r.a.createElement(h.a,{md:{span:4,offset:4}},r.a.createElement(b.a.Control,{type:"file",name:"foto",className:"fileInput",ref:this.image})))),r.a.createElement("div",{className:"newPlayer__buttons"},r.a.createElement(g.a,{variant:"danger",type:"reset"},"Reset"),r.a.createElement(g.a,{className:"newPlayer__middle-button",variant:"warning",onClick:this.onSaveClick},"Add Player"),r.a.createElement(g.a,{variant:"secondary",onClick:this.props.closeModal},"Cancel"))))):""}}]),t}(r.a.Component),M=function(){function e(){Object(u.a)(this,e),this.baseUrl="http://localhost:1010"}return Object(m.a)(e,[{key:"getPlayers",value:function(e,t){return fetch("".concat(this.baseUrl,"/players?page=").concat(e,"&limit=").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200===e.status)return e.json();console.error("Looks like there was a problem. Status Code: "+e.status)}).catch(function(e){console.error("Fetch Error :-S",e)})}},{key:"removeUser",value:function(e){return fetch("".concat(this.baseUrl,"/users"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:e})})}},{key:"addPlayer",value:function(e){return fetch("".concat(this.baseUrl,"/players"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({player:e})})}}]),e}(),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).closeModal=function(){a.setState({isVisible:!1})},a.openModal=function(){a.setState({isVisible:!0})},a.onLimitChange=function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({limit:t},function(){a.updatePlayers()});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.prevPage=function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=2;break}return e.abrupt("return");case 2:a.setState({page:t},function(){a.updatePlayers()});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.nextPage=function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.players.length<a.state.limit)){e.next=2;break}return e.abrupt("return");case 2:a.setState({page:t},function(){a.updatePlayers()});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.updatePage=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.updatePlayers();case 1:case"end":return e.stop()}},e,this)})),a.updatePlayers=Object(s.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.backend.getPlayers(a.state.page,a.state.limit);case 2:t=e.sent,a.setState({players:t});case 4:case"end":return e.stop()}},e,this)})),a.addPlayer=function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.backend.addPlayer(t);case 2:a.updatePlayers();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={players:[],limit:10,page:1,isVisible:!1},a.backend=new M,a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updatePlayers()}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(P,null),r.a.createElement(v,{openModal:this.openModal,updatePage:this.updatePage,onLimitChange:this.onLimitChange,limit:this.state.limit}),r.a.createElement(k,{players:this.state.players}),r.a.createElement(O,{prevPage:this.prevPage,nextPage:this.nextPage,curentPage:this.state.page}),r.a.createElement(x,{isVisible:this.state.isVisible,closeModal:this.closeModal,addPlayer:this.addPlayer}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.4c6c0e0c.chunk.js.map